(function(e){function t(t){for(var n,a,l=t[0],s=t[1],i=t[2],d=0,u=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&u.push(o[a][0]),o[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);b&&b(t);while(u.length)u.shift()();return r.push.apply(r,i||[]),c()}function c(){for(var e,t=0;t<r.length;t++){for(var c=r[t],n=!0,a=1;a<c.length;a++){var l=c[a];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=c[0]))}return e}var n={},a={app:0},o={app:0},r=[];function l(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0dc07014":"e3c8e42d","chunk-2d0c80c2":"1c53eeac","chunk-2d0d6f02":"392ceef0","chunk-2d20f8d6":"53adac9d","chunk-557ab8c2":"15d4d9d6"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.e=function(e){var t=[],c={"chunk-0dc07014":1,"chunk-557ab8c2":1};a[e]?t.push(a[e]):0!==a[e]&&c[e]&&t.push(a[e]=new Promise((function(t,c){for(var n="css/"+({}[e]||e)+"."+{"chunk-0dc07014":"79cde76d","chunk-2d0c80c2":"31d6cfe0","chunk-2d0d6f02":"31d6cfe0","chunk-2d20f8d6":"31d6cfe0","chunk-557ab8c2":"4e0f4614"}[e]+".css",o=s.p+n,r=document.getElementsByTagName("link"),l=0;l<r.length;l++){var i=r[l],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===n||d===o))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){i=u[l],d=i.getAttribute("data-href");if(d===n||d===o)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var n=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete a[e],b.parentNode.removeChild(b),c(r)},b.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(b)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,c){n=o[e]=[t,c]}));t.push(n[2]=r);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=l(e);var u=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(b);var c=o[e];if(0!==c){if(c){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",u.name="ChunkLoadError",u.type=n,u.request=a,c[1](u)}o[e]=void 0}};var b=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,c){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(c,n,function(t){return e[t]}.bind(null,n));return c},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var b=d;r.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"0385":function(e,t,c){},"12fd":function(e,t,c){},"312c":function(e,t,c){"use strict";c("648a")},4598:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));c("14d9");var n=c("be92"),a=c("cee4"),o=c("7a23");const r=Object(n["b"])("userRole",()=>{const e=Object(o["ref"])("guest"),t=t=>{e.value=t.toLowerCase()},c=()=>e.value,n=()=>{e.value=null,localStorage.removeItem("userRole")};return{userRole:e,setUserRole:t,getUserRole:c,removeUserRole:n}});var l=c("a3be"),s=c("6605");const i=Object(n["b"])("LoginStore",()=>{const e=r(),t=Object(o["ref"])(!1),c=Object(o["reactive"])({});let n=Object(o["ref"])(!0),i=Object(o["reactive"])({refreshToken:!1,accessToken:!1});const d=Object(o["ref"])(!1),u=({email:e,password:t})=>{c.email=e,c.password=t},b=()=>{n.value=!1},p=async e=>{!0===e&&await N(),d.value=!d.value},m=()=>{var e;return(null===(e=JSON.parse(sessionStorage.getItem("token")))||void 0===e?void 0:e.refreshToken)||!1},f=()=>{var e;return(null===(e=JSON.parse(sessionStorage.getItem("token")))||void 0===e?void 0:e.accessToken)||!1},O=()=>i.refreshToken,j=()=>i.accessToken,h=()=>t.value=!t.value,v=e=>{"modal-overlay"===e.target.id&&h()},k=()=>{i.accessToken=!1,i.refreshToken=!1,sessionStorage.removeItem("token"),e.removeUserRole()},_=e=>{sessionStorage.setItem("token",JSON.stringify(e))},g=e=>{i.accessToken=e.accessToken,i.refreshToken=e.refreshToken},y=async()=>{try{const t=await a["a"].post(`${l["a"]}/${l["b"]}`,{email:c.email,password:c.password});if(200===t.status){h(),i.accessToken=t.data.accessToken,i.refreshToken=t.data.refreshToken,_(i);const c=Object(s["c"])(),n=t.data.role.toLocaleLowerCase();if(e.setUserRole(t.data.role),"admin"===n||"author"===n)return void await c.push({path:"/admin/dashboard"});await c.push({path:"/articles"})}}catch(t){console.log(t)}},N=async()=>{if(i.accessToken)try{const c=await a["a"].post(`${l["a"]}/${l["c"]}`,{},{headers:{Authorization:"Bearer "+i.refreshToken}});200===c.status&&(k(),e.removeUserRole(),t.value=!1)}catch(c){console.log(c)}};return{isLoginPageShow:t,showLoginPage:h,loginAction:y,formData:c,closeModalOutside:v,token:i,logout:N,acceptAction:p,acceptWindowShow:d,updateFormDataFromRegister:u,isUserDataLoading:n,setStorageToken:_,getRefreshToken:O,getAccessToken:j,getAccessTokenStorage:f,getRefreshTokenStorage:m,setStateToken:g,disableLoader:b}})},4955:function(e,t,c){e.exports=c.p+"img/battlefield-v.475ab307.jpg"},"56d7":function(e,t,c){"use strict";c.r(t);c("ab8b");var n=c("7a23"),a=c("4955"),o=c.n(a),r=c("4598");const l=e=>(Object(n["pushScopeId"])("data-v-515cb777"),e=e(),Object(n["popScopeId"])(),e),s={class:"container"},i={class:"center"},d=["type"],u=l(()=>Object(n["createElementVNode"])("svg",{width:"180px",height:"60px",viewBox:"0 0 180 60",class:"border"},[Object(n["createElementVNode"])("polyline",{points:"179,1 179,59 1,59 1,1 179,1",class:"bg-line"}),Object(n["createElementVNode"])("polyline",{points:"179,1 179,59 1,59 1,1 179,1",class:"hl-line"})],-1));var b={__name:"ButtonBorderAnimate",props:{btnColor:{type:String,default:"transparent"},btnType:{type:String,default:()=>"button"},btnTextColor:{type:String,default:()=>"#fff"},btnText:{type:String,default:"нажми на меня"}},setup(e){return(t,c)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("button",{class:"btn",type:e.btnType,style:Object(n["normalizeStyle"])({background:e.btnColor})},[u,Object(n["createElementVNode"])("span",{style:Object(n["normalizeStyle"])({color:e.btnTextColor})},Object(n["toDisplayString"])(e.btnText),5)],12,d)])]))}},p=(c("312c"),c("d959")),m=c.n(p);const f=m()(b,[["__scopeId","data-v-515cb777"]]);var O=f,j=c("7bb1"),h=c("42e9");const v=Object(h["a"])({email:Object(h["b"])().required("не заполненно").email("Email не валиден"),password:Object(h["b"])().required("Пароль не заполнен").min(6,"Пароль должен быть минимум 6 символов")}),k=e=>(Object(n["pushScopeId"])("data-v-f4fd9ba6"),e=e(),Object(n["popScopeId"])(),e),_=k(()=>Object(n["createElementVNode"])("h5",{class:"form__title main-title"},null,-1)),g={class:"form__input-wrapper"},y={class:"form__input__sub-wrap"},N=k(()=>Object(n["createElementVNode"])("span",{class:"form__input-name"},"Email",-1)),V={class:"form__label"},w={class:"form__input-wrapper"},E={class:"form__input__sub-wrap"},T=k(()=>Object(n["createElementVNode"])("span",{class:"form__input-name"},"Пароль",-1)),S={class:"form__label"},B={class:"form__link-wrapper"};var C={__name:"LoginForm",setup(e){const t=Object(r["a"])();return(e,c)=>{const a=Object(n["resolveComponent"])("NuxtLink");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"form__wrapper",id:"modal-overlay",onClick:c[2]||(c[2]=e=>Object(n["unref"])(t).closeModalOutside(e))},[Object(n["createVNode"])(Object(n["unref"])(j["c"]),{class:"form__main",onSubmit:Object(n["unref"])(t).loginAction,"validation-schema":Object(n["unref"])(v)},{default:Object(n["withCtx"])(({meta:e})=>[_,Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("div",y,[N,Object(n["createElementVNode"])("label",V,[Object(n["createVNode"])(Object(n["unref"])(j["b"]),{modelValue:Object(n["unref"])(t).formData.email,"onUpdate:modelValue":c[0]||(c[0]=e=>Object(n["unref"])(t).formData.email=e),modelModifiers:{trim:!0},type:"email",name:"email",class:Object(n["normalizeClass"])(["form__input",{"validate-success":e.valid&&e.touched}]),placeholder:"Введите email"},null,8,["modelValue","class"])])]),Object(n["createVNode"])(Object(n["unref"])(j["a"]),{class:"form__input-error",name:"email"})]),Object(n["createElementVNode"])("div",w,[Object(n["createElementVNode"])("div",E,[T,Object(n["createElementVNode"])("label",S,[Object(n["createVNode"])(Object(n["unref"])(j["b"]),{modelValue:Object(n["unref"])(t).formData.password,"onUpdate:modelValue":c[1]||(c[1]=e=>Object(n["unref"])(t).formData.password=e),modelModifiers:{trim:!0},type:"password",name:"password",class:Object(n["normalizeClass"])(["form__input",{"validate-success":e.valid&&e.touched}]),placeholder:"Введите пароль"},null,8,["modelValue","class"])])]),Object(n["createVNode"])(Object(n["unref"])(j["a"]),{class:"form__input-error",name:"password"})]),Object(n["createVNode"])(O,{btnText:"Войти",btnType:"submit",class:Object(n["normalizeClass"])(["form__submit-login",{"btn-animate":e.valid&&e.touched}])},null,8,["class"]),Object(n["createElementVNode"])("span",B,[Object(n["createVNode"])(a,{class:"main-link form__link",to:"#"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("забыли пароль?")]),_:1}),Object(n["createVNode"])(a,{onClick:Object(n["unref"])(t).showLoginPage,class:"main-link form__link",to:"/register"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("регистрация")]),_:1},8,["onClick"])])]),_:1},8,["onSubmit","validation-schema"])])}}};c("e2cf");const x=m()(C,[["__scopeId","data-v-f4fd9ba6"]]);var L=x;const A=e=>(Object(n["pushScopeId"])("data-v-55bbcf71"),e=e(),Object(n["popScopeId"])(),e),I=A(()=>Object(n["createElementVNode"])("span",{class:"loader"},null,-1)),P=[I];function D(e,t,c,a,o,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,P)}var R={name:"Loader"};c("f6ae");const U=m()(R,[["render",D],["__scopeId","data-v-55bbcf71"]]);var M=U;const z=e=>(Object(n["pushScopeId"])("data-v-df742002"),e=e(),Object(n["popScopeId"])(),e),F={class:"accept"},J={class:"accept__wrapper"},$=z(()=>Object(n["createElementVNode"])("h5",{class:"mb-2"},"Вы Уверенны?",-1));var q={__name:"AcceptForm",props:["acceptAction"],setup(e){return(t,c)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",F,[Object(n["createElementVNode"])("div",J,[$,Object(n["createElementVNode"])("button",{onClick:c[0]||(c[0]=t=>e.acceptAction(!0)),class:"accept__btn btn btn-primary mb-2"}," Выйти "),Object(n["createElementVNode"])("button",{onClick:c[1]||(c[1]=t=>e.acceptAction(!1)),class:"accept__btn btn btn-primary"}," Отмена ")])]))}};c("99b7");const G=m()(q,[["__scopeId","data-v-df742002"]]);var H=G;const W={class:"header__root line"},K={class:"container"},Y={class:"header"},Q=Object(n["createElementVNode"])("div",{class:"header__logo logo hui"},"MY GameBLoG",-1),X={class:"nav"},Z={class:"nav__list"},ee={class:"nav__item"},te={class:"nav__item"},ce={class:"nav__item"},ne={class:"nav__item"},ae={key:0,class:"nav__item item-login"},oe={key:1,class:"nav__item item-login"};var re={__name:"TheHeader",setup(e){const t=Object(r["a"])();return Object(n["onMounted"])(()=>{t.disableLoader()}),(e,c)=>{const a=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",W,[Object(n["createElementVNode"])("div",K,[Object(n["createElementVNode"])("header",Y,[Q,Object(n["createElementVNode"])("nav",X,[Object(n["createElementVNode"])("ul",Z,[Object(n["createElementVNode"])("li",ee,[Object(n["createVNode"])(a,{class:"btn main-link",to:"/"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("Статьи")]),_:1})]),Object(n["createElementVNode"])("li",te,[Object(n["createVNode"])(a,{class:"btn main-link",to:"/about"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("О нас")]),_:1})]),Object(n["createElementVNode"])("li",ce,[Object(n["createVNode"])(a,{class:"btn main-link",to:"/join"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("Стать автором")]),_:1})]),Object(n["createElementVNode"])("li",ne,[Object(n["createVNode"])(a,{class:"btn main-link",to:"/profile"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("Профиль")]),_:1})]),Object(n["unref"])(t).token.accessToken?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",oe,[Object(n["unref"])(t).isUserDataLoading?(Object(n["openBlock"])(),Object(n["createBlock"])(M,{key:0})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,class:"btn main-link",onClick:c[1]||(c[1]=(...e)=>Object(n["unref"])(t).acceptAction&&Object(n["unref"])(t).acceptAction(...e))}," Выйти ")),Object(n["unref"])(t).acceptWindowShow?(Object(n["openBlock"])(),Object(n["createBlock"])(H,{key:2,acceptAction:Object(n["unref"])(t).acceptAction},null,8,["acceptAction"])):Object(n["createCommentVNode"])("",!0)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",ae,[Object(n["unref"])(t).isUserDataLoading?(Object(n["openBlock"])(),Object(n["createBlock"])(M,{key:0})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,class:"btn main-link",onClick:c[0]||(c[0]=(...e)=>Object(n["unref"])(t).showLoginPage&&Object(n["unref"])(t).showLoginPage(...e))}," Войти "))]))])])])])])}}};c("c7d6");const le=re;var se=le;const ie={class:"container"},de=Object(n["createStaticVNode"])('<footer class="footer fixed-footer"><div class="center"><div id="social-test"><ul class="social"><li><i class="fa fa-facebook" aria-hidden="true"></i></li><li><i class="fa fa-twitter" aria-hidden="true"></i></li><li><i class="fa fa-instagram" aria-hidden="true"></i></li><li><i class="fa fa-vimeo" aria-hidden="true"></i></li><li><i class="fa fa-behance" aria-hidden="true"></i></li><li><i class="fa fa-dribbble" aria-hidden="true"></i></li><li><i class="fa fa-github" aria-hidden="true"></i></li><li><i class="fa fa-pied-piper" aria-hidden="true"></i></li></ul></div></div></footer>',1),ue=[de];function be(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ie,ue)}c("bd07");const pe={},me=m()(pe,[["render",be]]);var fe=me;const Oe={class:"page-wrapper"},je=Object(n["createElementVNode"])("img",{class:"bg-page",src:o.a,alt:"обои"},null,-1),he={class:"wrapper-content"},ve={class:"container"},ke={class:"main my-4"};var _e={__name:"DefaultLayout",setup(e){const t=Object(r["a"])();return(e,c)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",Oe,[je,Object(n["createElementVNode"])("div",he,[Object(n["createVNode"])(se),Object(n["createElementVNode"])("div",ve,[Object(n["createElementVNode"])("main",ke,[Object(n["renderSlot"])(e.$slots,"default"),Object(n["unref"])(t).isLoginPageShow?(Object(n["openBlock"])(),Object(n["createBlock"])(L,{key:0})):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(fe)])])]))}};c("5a63");const ge=_e;var ye=ge,Ne={__name:"App",setup(e){const t=Object(n["computed"])(()=>ye);return(e,c)=>{const a=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(Object(n["unref"])(t)),null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(a)]),_:1})}}};const Ve=Ne;var we=Ve,Ee=c("be92"),Te=c("cee4"),Se=c("130e"),Be=c("6605");const Ce=[{path:"/",name:"index",component:()=>c.e("chunk-557ab8c2").then(c.bind(null,"1e4b"))},{path:"/about",name:"about",component:()=>c.e("chunk-2d0d6f02").then(c.bind(null,"754b"))},{path:"/profile",name:"profile",component:()=>c.e("chunk-2d20f8d6").then(c.bind(null,"b3b1"))},{path:"/register",name:"register",component:()=>c.e("chunk-0dc07014").then(c.bind(null,"7803"))},{path:"/join",name:"join",component:()=>c.e("chunk-2d0c80c2").then(c.bind(null,"52e4"))}],xe=Object(Be["a"])({history:Object(Be["b"])("/"),routes:Ce});var Le=xe;c("4989");const Ae=Object(Ee["a"])();Object(n["createApp"])(we).use(Le).use(Se["a"],Te["a"]).use(Ae).mount("#app")},"5a63":function(e,t,c){"use strict";c("0385")},"648a":function(e,t,c){},"6e2b":function(e,t,c){},8573:function(e,t,c){},9884:function(e,t,c){},"99b7":function(e,t,c){"use strict";c("6e2b")},a3be:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"d",(function(){return a})),c.d(t,"b",(function(){return o})),c.d(t,"c",(function(){return r}));const n="http://localhost:80",a="register",o="login",r="logout"},bd07:function(e,t,c){"use strict";c("dde5")},c7d6:function(e,t,c){"use strict";c("12fd")},dde5:function(e,t,c){},e2cf:function(e,t,c){"use strict";c("9884")},f6ae:function(e,t,c){"use strict";c("8573")}});
//# sourceMappingURL=app.0250b635.js.map